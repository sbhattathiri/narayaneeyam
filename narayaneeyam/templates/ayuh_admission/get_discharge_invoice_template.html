{% load static %}
<html>
<head>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
          integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" rel="stylesheet">
    <style>
        body {
           font-family: "DejaVu Sans Condensed", sans-serif;
           font-size: 12px;
           margin: 0;
           padding: 30px;
       }
       table.table-compact td, table.table-compact th {
            padding-top: 2px;
            padding-bottom: 2px;
            line-height: 1.2;
       }
    </style>
</head>
<body>
<div class="d-flex justify-content-between align-items-center">
    <div class="me-3">
        <img alt="Logo" src="{{ logo_url }}" style="height: 60px;">
    </div>
    <div class="text-center flex-grow-1">
        <h5 class="mb-0" style="color: green;">{{ clinic.name_line1 }}<br>{{ clinic.name_line2 }}</h5>
        <small style="color: #966d29; font-family: 'Noto Sans Devanagari', sans-serif;">{{ clinic.tagline }}</small>
    </div>
    <div class="contact-info text-right">
        {{ clinic.website }}<br><br>
        {{ clinic.address1 }}<br>
        {{ clinic.address2 }}<br>
        {{ clinic.phone }}<br>
        {{ clinic.email }}<br>
    </div>
</div>

<hr>

<div class="text-primary" style="font-size: 0.7rem;">DISCHARGE SUMMARY</div>
<br>
<table class="table table-borderless table-sm w-auto">
    <tr><td class="font-weight-bold">Patient Name:</td><td>{{ patient.name }}</td></tr>
    <tr><td class="font-weight-bold">Gender / Age:</td><td>{{ patient.gender }} / {{ patient.age }}</td></tr>
    <tr><td class="font-weight-bold">Date of Birth:</td><td>{{ patient.dob }}</td></tr>
    <tr><td class="font-weight-bold">Admission Date:</td><td>{{ admission.admission_date }}</td></tr>
    <tr><td class="font-weight-bold">Discharge Date:</td><td>{{ discharge.discharge_date }}</td></tr>
    <tr><td class="font-weight-bold">Room:</td><td>{{ admission.room }}</td></tr>
    <tr><td class="font-weight-bold">Discharge Status:</td><td>{{ discharge.status }}</td></tr>
</table>

<br>
<div class="text-primary" style="font-size: 0.7rem;">CONSULTATION DETAILS</div>
<br>
<table class="table table-borderless table-sm w-auto">
    <tr><td class="font-weight-bold">Doctor:</td><td>{{ consultation.consulting_doctor }}</td></tr>
    <tr><td class="font-weight-bold">Consultation Date:</td><td>{{ consultation.consultation_date }}</td></tr>
    <tr><td class="font-weight-bold">Diagnosis:</td><td>{{ consultation.diagnosis }}</td></tr>
    <tr><td class="font-weight-bold">Concerns:</td><td>{{ consultation.patient_concerns }}</td></tr>
    <tr><td class="font-weight-bold">Onset From:</td><td>{{ consultation.patient_concerns_onset_from }}</td></tr>
</table>

<br>
<div class="text-primary" style="font-size: 0.7rem;">PATIENT PROFILE</div>
<br>
<table class="table table-borderless table-sm w-auto">
    <tr><td class="font-weight-bold">Address:</td><td>{{ patient_profile.patient_address }}</td></tr>
    <tr><td class="font-weight-bold">Conditions:</td><td>{{ patient_profile.pre_existing_health_conditions }}</td></tr>
    <tr><td class="font-weight-bold">Medications:</td><td>{{ patient_profile.pre_existing_medications }}</td></tr>
    <tr><td class="font-weight-bold">Allergies:</td><td>{{ patient_profile.known_allergies }}</td></tr>
    <tr><td class="font-weight-bold">Medication Allergies:</td><td>{{ patient_profile.known_medication_allergies }}</td></tr>
    <tr><td class="font-weight-bold">Surgeries:</td><td>{{ patient_profile.previous_surgeries }}</td></tr>
</table>

<br>
<div class="text-primary" style="font-size: 0.7rem;">TREATMENT DETAILS</div>
<br>
<table class="table table-bordered table-sm table-compact">
    <thead>
    <tr class="bg-light">
        <th>#</th>
        <th>Treatment</th>
        <th>Date</th>
        <th>Therapist</th>
        <th>Amount (₹)</th>
    </tr>
    </thead>
    <tbody>
    {% for row in treatment %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ row.treatment }}</td>
        <td>{{ row.treatment_date }}</td>
        <td>{{ row.therapist }}</td>
        <td>{{ row.amount }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>

<br>
<div class="d-flex justify-content-end">
    <p class="text-right" style="font-size: 0.7rem;">Total Amount: ₹ </p>
</div>

<hr>

<div class="d-flex justify-content-between align-items-center">
    <div class="me-3"></div>
    <div class="text-center flex-grow-1"></div>
    <div class="me-3">
        <p style="font-size: 0.5rem;">Signed: {{ clinic.name_line1 }}</p>
    </div>
</div>

<footer>
  <p style="text-align: center; font-size: 14px; color: gray;">
    Thank you for choosing {{ clinic.name_line1 }}. Wishing you good health!
  </p>
</footer>
</body>
</html>